<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Order Details</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>
    <nav id="nav" class="navbar navbar-expand-lg navbar-light">
      <img class="Logo" src="images/fork&spoon.png" alt="Logo">
      <h3>Quick Eats</h3>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="Welcome Page.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="List of Restaurants.html">Restaurants</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Menu Page.html">Menu</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Order Page.html">Order</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Checkout Page.html">Checkout</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="order">
        <h1>Order Details</h1>
        <hr class="hr_index">
        <p id="item1"></p>
        <p id="item2"></p>
        <p id="item3"></p>
        <p id="totalBeforeTax"></p>
        <p id="quantity"></p>
        <button onclick="location.href='Checkout Page.html'" id="checkoutButton" type="button">Checkout</button>
      </div>


    </div>

  </body>
</html>

<script type="text/javascript">
    var prices=[20, 10, 15];
    initializeItem("Pepperoni Pizza", "Garlic Bread", "Meatball Spaghetti", 0, 1, 2);

    function initializeItem(item1, item2, item3, index1, index2, index3) {
      var localItem1=Number(localStorage.getItem(item1));
      var localItem2=Number(localStorage.getItem(item2));
      var localItem3=Number(localStorage.getItem(item3));
      var quantity=0;
      var price=0;

      if ((localItem1==null || localItem1=="") && (localItem2==null || localItem2=="") && (localItem3==null || localItem3=="")) {
        document.getElementById("item1").innerHTML="You have not ordered any items yet."
        localStorage.setItem("totalBeforeTax", 0);
      }

      if (localItem1!=null && localItem1>0) {
        document.getElementById("item1").innerHTML=localItem1 + "x " +  item1 + "..... $" + localItem1*prices[index1];
        quantity+=localItem1;
        price+=localItem1*prices[index1];
      }

      if (localItem2!=null && localItem2>0) {
        document.getElementById("item2").innerHTML=localItem2 + "x " +  item2 + "..... $" + localItem2*prices[index2];
        quantity+=localItem2;
        price+=localItem2*prices[index2];
      }

      if (localItem3!=null && localItem3>0) {
        document.getElementById("item3").innerHTML=localItem3 + "x " +  item3 + "..... $" + localItem3*prices[index3];
        quantity+=localItem3;
        price+=localItem3*prices[index3];
      } 

      document.getElementById("quantity").innerHTML="Quantity: <b>" + quantity + " items</b>";
      document.getElementById("totalBeforeTax").innerHTML="Total Before Tax: <b>$" + price +"</b>";
      localStorage.setItem("totalBeforeTax", price);
    }

</script>
